#
# This ini file runs Telnet sessions on the DemoNetworkEth network, using
# TelnetApp+TCPGenericSrvApp.
#
# See also fileTransfer.ini and basicHTTP.ini for different kinds of
# network traffic.
#

[General]
debug-on-errors = false

network = demoNetworkEth

cmdenv-express-mode = false

tkenv-plugin-path = ../../../Etc/plugins
# tkenv-default-run = 1


# number of client and server computers
*.n = 2

# configurator
#*.configurator.useTentativeAddrs = false # FIXME TBD to be switched to true, for testing DAD!

# udp app (off)
**.numUdpApps = 0
**.udpAppType = "UDPBasicApp"


# HomeAgent configuration
**.r1.isHomeAgent = true
**.r2.isHomeAgent = true
**.r3.isHomeAgent = true
**.r4.isHomeAgent = true

# tcp apps
**.host[1].numTcpApps = 0
**.host[1].tcpAppType = "TelnetApp"
**.host[3].numTcpApps = 0
**.host[3].tcpAppType = "TelnetApp"

**.host[2].numTcpApps = 1
**.host[0].numTcpApps = 1

**.host[0].tcpAppType = "TelnetApp"
**.host[0].tcpApp[0].address = ""
**.host[0].tcpApp[0].port = 1000
**.host[0].tcpApp[0].connectPort = 1000

**.host[2].tcpApp[0] = "TCPGenericSrvApp"
**.host[2].tcpAppType = "TCPGenericSrvApp"
**.host[2].tcpApp[0].address = ""
**.host[2].tcpApp[0].port = 1000
**.host[2].tcpApp[0].replyDelay = 0

#IP address intentionally set incorrectly
#**.host[0].tcpApp[0].connectAddress = "host[2]"
**.host[*].tcpApp[0].connectAddress = "aaaa:3a:f1:0:aaa:ff:fe00:13"
#**.host[*].tcpApp[0].connectAddress = "aaaa:86::aaa:ff:fe00:18"
#**.cli[*].tcpApp[0].connectAddress = "aaaa:2a:1:0:aaa:ff:fe00:dddd"


**.host[0].tcpApp[0].startTime = uniform(10,15)
**.host[0].tcpApp[0].numCommands = exponential(10)
**.host[0].tcpApp[0].commandLength = exponential(10)
**.host[0].tcpApp[0].keyPressDelay = exponential(0.1)
**.host[0].tcpApp[0].commandOutputLength = exponential(40)
**.host[0].tcpApp[0].thinkTime = truncnormal(2,3)
**.host[0].tcpApp[0].idleInterval = truncnormal(3600,1200)
**.host[0].tcpApp[0].reconnectInterval = 30s

#**.host*.numTcpApps = 1
#**.host*.tcpAppType = "TCPGenericSrvApp"
#**.host*.tcpApp[0].address = ""
#**.host*.tcpApp[0].port = 1000
#**.host*.tcpApp[0].replyDelay = 0

# ping app (off)
**.pingApp.destAddr = ""
**.pingApp.srcAddr = ""
**.pingApp.packetSize = 56B
**.pingApp.interval = 1s
**.pingApp.hopLimit = 32
**.pingApp.count = 0
**.pingApp.startTime = 1s
**.pingApp.stopTime = 0
**.pingApp.printPing = true

# tcp settings
**.tcp.mss = 1024
**.tcp.advertisedWindow = 14336  # 14*mss
**.tcp.sendQueueClass = "TCPMsgBasedSendQueue"
**.tcp.receiveQueueClass = "TCPMsgBasedRcvQueue"
**.tcp.tcpAlgorithmClass = "TCPReno"
**.tcp.recordStats = true

# ip settings
#FIXME
**.routingTableFile = xmldoc("empty.xml")
**.ipv6.procDelay = 10us
**.mipv6.procDelay = 10us

# Ethernet NIC configuration
**.eth[*].queueType = "DropTailQueue" # in routers
**.eth[*].queue.frameCapacity = 10  # in routers
**.eth[*].encap.*.scalar-recording = false
**.eth[*].mac.promiscuous = false
**.eth[*].mac.address = "auto"
# ADDED by WEI for testing purpose
#**.cli[0].eth[0].mac.address = "0A-AA-00-00-00-01"
#**.srv.eth[0].mac.address = "0A-AA-00-00-00-02"
#**.r1.eth[0].mac.address = "0A-AA-00-00-00-03"
#**.r1.eth[1].mac.address = "0A-AA-00-00-00-04"
#**.r2.eth[0].mac.address = "0A-AA-00-00-00-04"
#**.r2.eth[1].mac.address = "0A-AA-00-00-00-06"
#**.r3.eth[0].mac.address = "0A-AA-00-00-00-07"
#**.r3.eth[1].mac.address = "0A-AA-00-00-00-08"
##################################
**.eth[*].mac.txrate = 10Mbps
**.eth[*].mac.duplexEnabled = true
**.eth[*].mac.*.scalar-recording = false

